In this lesson, youâ€™ll learn how to filter and manipulate raster datasets using ImageCollections, apply scaling functions to imagery, display RGB bands, and clip images to state boundaries using FeatureCollections.

<br> <strong>2.1</strong> Create an image collection by selecting Landsat 9 Surface Reflectance imagery from Fall 2023. Filter the imagery to only include images with less than 10% cloud cover. <!-- HINT Row --> <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:6px;"> <div id="hint21" style="visibility:hidden; height:auto; background-color:#f0f0f0; border-left:4px solid #ccc; padding:2px 6px; margin:0px; flex:1;"> Use <code>ee.ImageCollection()</code> and chain <code>.filterDate()</code> and <code>.filter()</code> to restrict by date and cloud cover. </div> <button id="hintButton21" onclick=" var el = document.getElementById('hint21'); var btn = document.getElementById('hintButton21'); var showing = el.style.visibility === 'visible'; el.style.visibility = showing ? 'hidden' : 'visible'; btn.style.backgroundColor = showing ? '#689f38' : '#558b2f'; " style="background-color:#689f38; color:white; border:none; padding:4px 10px; border-radius:6px; font-weight:bold; cursor:pointer; margin-left:8px; width:60px;"> hint </button> </div> <!-- CODE Row --> <div style="display:flex; justify-content:space-between; align-items:center;"> <div id="code21" style="visibility:hidden; height:auto; background-color:#f0f0f0; border-left:4px solid #ccc; padding:2px 6px; margin:0px; flex:1;"> <code>var landsat = ee.ImageCollection('LANDSAT/LC09/C02/T1_L2')<br> &nbsp;&nbsp;.filterDate('2023-10-01', '2023-11-21')<br> &nbsp;&nbsp;.filter(ee.Filter.lt('CLOUD_COVER',10));</code> </div> <button id="codeButton21" onclick=" var el = document.getElementById('code21'); var btn = document.getElementById('codeButton21'); var showing = el.style.visibility === 'visible'; el.style.visibility = showing ? 'hidden' : 'visible'; btn.style.backgroundColor = showing ? '#1e88e5' : '#1565c0'; " style="background-color:#1e88e5; color:white; border:none; padding:4px 10px; border-radius:6px; font-weight:bold; cursor:pointer; margin-left:8px; width:60px;"> code </button> </div>
<br><br> <strong>2.2</strong> Landsat Surface Reflectance imagery needs to be scaled to appear correctly. Write a function that applies scaling to the optical and thermal bands and then use <code>.map()</code> to apply the function across the collection.

<!-- HINT Row --> <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:6px;"> <div id="hint22" style="visibility:hidden; height:auto; background-color:#f0f0f0; border-left:4px solid #ccc; padding:2px 6px; margin:0px; flex:1;"> Use <code>multiply()</code> and <code>add()</code> on <code>image.select()</code> for each band group, and combine with <code>addBands()</code>. Then apply your function to the collection with <code>.map()</code>. </div> <button id="hintButton22" onclick=" var el = document.getElementById('hint22'); var btn = document.getElementById('hintButton22'); var showing = el.style.visibility === 'visible'; el.style.visibility = showing ? 'hidden' : 'visible'; btn.style.backgroundColor = showing ? '#689f38' : '#558b2f'; " style="background-color:#689f38; color:white; border:none; padding:4px 10px; border-radius:6px; font-weight:bold; cursor:pointer; margin-left:8px; width:60px;"> hint </button> </div> <!-- CODE Row --> <div style="display:flex; justify-content:space-between; align-items:center;"> <div id="code22" style="visibility:hidden; height:auto; background-color:#f0f0f0; border-left:4px solid #ccc; padding:2px 6px; margin:0px; flex:1;"> <code>function applyScaleFactors(image) {<br> &nbsp;&nbsp;var opticalBands = image.select('SR_B.').multiply(0.0000275).add(-0.2);<br> &nbsp;&nbsp;var thermalBands = image.select('ST_B.*').multiply(0.00341802).add(149.0);<br> &nbsp;&nbsp;return image.addBands(opticalBands, null, true)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.addBands(thermalBands, null, true);<br> }<br><br> landsat = landsat.map(applyScaleFactors);</code> </div> <button id="codeButton22" onclick=" var el = document.getElementById('code22'); var btn = document.getElementById('codeButton22'); var showing = el.style.visibility === 'visible'; el.style.visibility = showing ? 'hidden' : 'visible'; btn.style.backgroundColor = showing ? '#1e88e5' : '#1565c0'; " style="background-color:#1e88e5; color:white; border:none; padding:4px 10px; border-radius:6px; font-weight:bold; cursor:pointer; margin-left:8px; width:60px;"> code </button> </div>
<br><br> <strong>2.3</strong> Define RGB visualization parameters and add the scaled Landsat data to the map. Then mosaic the collection into one image.

<!-- CODE Row --> <div style="display:flex; justify-content:space-between; align-items:center;"> <div id="code23" style="visibility:hidden; height:auto; background-color:#f0f0f0; border-left:4px solid #ccc; padding:2px 6px; margin:0px; flex:1;"> <code>var visualization = {<br> &nbsp;&nbsp;bands: ['SR_B4', 'SR_B3', 'SR_B2'],<br> &nbsp;&nbsp;min: 0.0,<br> &nbsp;&nbsp;max: 0.3,<br> };<br><br> Map.addLayer(landsat, visualization, 'Landsat', false);<br> landsat = landsat.mosaic();</code> </div> <button id="codeButton23" onclick=" var el = document.getElementById('code23'); var btn = document.getElementById('codeButton23'); var showing = el.style.visibility === 'visible'; el.style.visibility = showing ? 'hidden' : 'visible'; btn.style.backgroundColor = showing ? '#1e88e5' : '#1565c0'; " style="background-color:#1e88e5; color:white; border:none; padding:4px 10px; border-radius:6px; font-weight:bold; cursor:pointer; margin-left:8px; width:60px;"> code </button> </div>
<br><br> <strong>2.4</strong> Load a FeatureCollection of administrative boundaries and filter it to the state of Illinois using a unique administrative code. Clip the Landsat imagery to Illinois and add the result to the map.

<!-- CODE Row --> <div style="display:flex; justify-content:space-between; align-items:center;"> <div id="code24" style="visibility:hidden; height:auto; background-color:#f0f0f0; border-left:4px solid #ccc; padding:2px 6px; margin:0px; flex:1;"> <code>var bounds = ee.FeatureCollection('FAO/GAUL/2015/level1');<br> var ILbounds = bounds.filter(ee.Filter.eq('ADM1_CODE',3227));<br> var landsatIL = landsat.clip(ILbounds);<br> Map.addLayer(landsatIL, visualization, 'Landsat Illinois');</code> </div> <button id="codeButton24" onclick=" var el = document.getElementById('code24'); var btn = document.getElementById('codeButton24'); var showing = el.style.visibility === 'visible'; el.style.visibility = showing ? 'hidden' : 'visible'; btn.style.backgroundColor = showing ? '#1e88e5' : '#1565c0'; " style="background-color:#1e88e5; color:white; border:none; padding:4px 10px; border-radius:6px; font-weight:bold; cursor:pointer; margin-left:8px; width:60px;"> code </button> </div>
<br><br> <strong>2.5</strong> Repeat the process using NAIP imagery. Use the Red, Green, and Blue bands to create a true color image, and clip it to Illinois.

<!-- CODE Row --> <div style="display:flex; justify-content:space-between; align-items:center;"> <div id="code25" style="visibility:hidden; height:auto; background-color:#f0f0f0; border-left:4px solid #ccc; padding:2px 6px; margin:0px; flex:1;"> <code>var NAIP = ee.ImageCollection('USDA/NAIP/DOQQ')<br> &nbsp;&nbsp;.filter(ee.Filter.date('2017-01-01', '2018-12-31'));<br> var NAIPtrueColor = NAIP.select(['R', 'G', 'B']);<br> var trueColorVis = {min: 0, max: 255};<br> Map.addLayer(NAIPtrueColor, trueColorVis, 'NAIP', false);<br><br> NAIPtrueColor = NAIPtrueColor.mosaic();<br> var NAIP_IL = NAIPtrueColor.clip(ILbounds);<br> Map.addLayer(NAIP_IL, trueColorVis, 'NAIP Illinois');</code> </div> <button id="codeButton25" onclick=" var el = document.getElementById('code25'); var btn = document.getElementById('codeButton25'); var showing = el.style.visibility === 'visible'; el.style.visibility = showing ? 'hidden' : 'visible'; btn.style.backgroundColor = showing ? '#1e88e5' : '#1565c0'; " style="background-color:#1e88e5; color:white; border:none; padding:4px 10px; border-radius:6px; font-weight:bold; cursor:pointer; margin-left:8px; width:60px;"> code </button> </div>




<meta http-equiv='cache-control' content='no-cache'> 
<meta http-equiv='expires' content='0'> 
<meta http-equiv='pragma' content='no-cache'>
